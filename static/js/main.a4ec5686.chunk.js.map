{"version":3,"sources":["../../src/helpers/mappers.mjs","../../src/components/Wrapper.jsx","../../src/components/DefaultLabel.jsx","../../src/core/defaults/createId.mjs","../../src/components/DefaultSelect.jsx","../../src/components/DefaultOption.jsx","../../src/components/DefaultInput.jsx","../../src/helpers/getClassName.mjs","../../src/components/Address.jsx","../../src/helpers/expandCountry.mjs","App.js","index.js"],"names":["definitions","defaults","country","address1","address2","administrative_area","locality","sublocality","postal_code","sorting_code","expand","data","kind","reduce","expanded","key","index","value","expandFlags","flags","flag","Math","pow","Wrapper","React","className","children","DefaultLabel","label","required","labelProps","createId","name","field","element","filter","segment","join","DefaultSelect","selectProps","DefaultOption","optionProps","DefaultInput","type","inputProps","getClassName","props","classNames","countries","compressed","grid","map","row","subdivisions","code","latinName","labels","Address","defaultCountry","components","componentOverrides","originalValues","Grid","GridRow","GridColumn","Label","Select","Option","Input","gridRow","gridColumn","select","option","input","useState","values","setAllValues","setValue","countryId","JSON","stringify","SelectColumn","options","Object","id","onChange","Row","columns","entries","columnName","Column","inputName","length","subdivision","unshift","InputColumn","htmlFor","e","target","autoCorrect","autoComplete","spellCheck","aria-required","createContext","App","href","xmlns","viewBox","d","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+YAKMA,UAJgB,GAKX,CACT,UACA,WACA,WACA,sBACA,WACA,cACA,cACA,kBAZqB,GAcX,CACV,OACA,OACA,OACA,SACA,WACA,kBAnByB,GAqBX,CACd,OACA,OACA,gBAIIC,UA9BgB,GA+BX,CACTC,QAAS,UACTC,SAAU,UACVC,SAAU,iBACVC,oBAAqB,WACrBC,SAAU,OACVC,YAAa,SACbC,YAAa,SACbC,aAAc,4BAkCAC,EAAOC,EAAMC,GAC5B,MAAO,UAAIZ,EAAYY,IACrBC,QAAO,SAACC,EAAUC,EAAKC,GACvB,IAAMC,WAA+BN,EAAKK,GACvC,EACAL,EAAKK,GAMR,OAJAF,EAASC,GAAO,IAAME,GAASL,KAAQX,GAAYc,KAAOd,EAASW,GAChEX,EAASW,GAAMG,GACfE,EAEIH,IACL,aAGWI,EAAYC,EAAOP,GAClC,MAAO,UAAIZ,EAAYY,IACrBC,QAAO,SAACC,EAAUC,EAAKC,GACvB,IAAMI,EAAOC,KAAKC,IAAI,EAAGN,GAEzB,OADAF,EAASC,IAAQI,EAAQC,GAAQ,EAC1BN,IACL,aC7FWS,KACf,OACCC,yBAAKC,YAF6BA,aAAVC,mBCAVC,SAAsCC,UAAOC,aAC5D,OACCL,6BAAOC,YAFsBA,aAAWK,YAGrCF,EACAC,EAAW,IAAM,aCJEE,EAASC,EAAMC,EAAYC,GAClD,gBADsCD,MAAQ,aAAIC,MAAU,IACrD,CAAC,WAAYF,EAAMC,EAAOC,GAC/BC,QAAO,kBAAW,KAAOC,KACzBC,KAAK,cCHQC,SAAgBZ,aAC/B,OACCF,8BAAQC,YAFgCA,aAAWc,aAGhDb,YCHWc,SAAgBZ,UAC/B,OACCJ,8BAAQC,YAF0CA,aAAbgB,aAGlCb,YCHWc,KACf,OACClB,6BACCC,YAH4BA,UAI5BkB,KAAK,UAJkCC,sBCF1BC,EAAab,EAAMc,GAElC,MAAI,eAAgBA,GAASd,KAAQc,EAAMC,WACnCD,EAAMC,WAAWf,gBAGLA,ECOrB,IAAMgB,EAAY,253DAAUnC,QAAO,SAACF,EAAMsC,GACzC,IAAM/C,WCZ+B+C,GACpC,IAAMnC,EAAWJ,EAAOuC,ETDH,GSWrB,OARAnC,EAASoC,KAAOpC,EAASoC,KAAKC,KAAI,mBAAOjC,EAAYkC,ETJjC,MSKpBtC,EAASuC,aAAevC,EAASuC,aAAaF,KAAI,gBAAEG,OAAMtB,cAEzD,MAAO,CAAEsB,OAAMtB,KADfA,EAAOA,GAAQsB,EACMC,qBAFsD,WAI5EzC,EAAS0C,OAAS9C,EAAOI,EAAS0C,OTTd,GSUpB1C,EAASe,SAAWX,EAAYJ,EAASe,STVrB,GSYbf,EDCFZ,CAAwB+C,GAE9B,OADAtC,EAAKT,EAAQoD,MAAQpD,EACdS,IACL,aAMa8C,EAAQX,SAMnBA,EAJHd,kBAAO,cAIJc,EAHHY,4BAAiB,SAGdZ,EAFHa,WAAYC,aAAqB,OAE9Bd,EADH7B,MAAO4C,aAAiB,OAcrBD,EAPHE,kBAAOvC,MAOJqC,EANHG,qBAAUxC,MAMPqC,EALHI,aAKGJ,EAJHK,QAIGL,EAHHM,SAGGN,EAFHO,SAEGP,EADHQ,MAKKT,EAAa,CAClBG,OACAC,UACAC,sBAZazC,IAab0C,iBAZQtC,IAaRuC,kBAZS5B,IAaT6B,kBAZS3B,IAaT4B,iBAZQ1B,KAiBHK,EAAa,CAClBG,KAAML,EAAa,OAAQC,GAC3BuB,QAASxB,EAAa,UAAWC,GACjCwB,WAAYzB,EAAa,aAAcC,GACvClB,MAAOiB,EAAa,QAASC,GAC7ByB,OAAQ1B,EAAa,SAAUC,GAC/B0B,OAAQ3B,EAAa,SAAUC,GAC/B2B,MAAO5B,EAAa,QAASC,MAGC4B,oBAAS,qBACvCxE,QAASwD,EACTvD,SAAU,GACVC,SAAU,GACVC,oBAAqB,GACrBC,SAAU,GACVC,YAAa,GACbC,YAAa,GACbC,aAAc,IACXoD,MATGc,OAAQC,OAWTC,EAAW,SAAC9D,EAAKE,gBAAU2D,OAAiBD,UAAS5D,GAAME,QAE3Df,EAAU8C,EAAU2B,EAAOzE,SAC3B4E,EAAY/C,EAASC,EAAM,UAAW,UAE5C,OACCR,kBAACsC,GAAKrC,UAAYsB,EAAWG,MAG5B1B,2BACCmB,KAAK,SACLX,KAASA,WACTf,MAAO8D,KAAKC,UAAUL,KAIvBnD,kBAACuC,GAAQtC,UAAYsB,EAAWsB,SAC/B7C,kBAACyD,GACAtB,WAAaA,EACbZ,WAAaA,EACbf,KAAWA,cACXf,MAAQ0D,EAAOzE,QACfgF,QAAUC,OAAOR,OAAO3B,GAAWG,KAAI,kBAAY,CAAEvB,MAAO1B,EAAQ8B,KAAMf,MAAOf,EAAQoD,SACzF1B,MAAQ1B,EAAQsD,OAAOtD,QACvB2B,YACAuD,GAAKN,EACLO,SAAW,mBAASR,EAAS,UAAW5D,OAKxCf,EAAQgD,KAAKC,KAAI,SAACC,EAAKpC,UAAUQ,kBAAC8D,GACnCvE,WAAcC,EACdgB,KAAOA,EACPoB,IAAMA,EACNL,WAAaA,EACbY,WAAaA,EACbzD,QAAUA,EACVyE,OAASA,EACTE,SAAWA,QAMf,SAASS,EAAIxC,OACJd,EAAiEc,EAAjEd,KAAW2B,EAAsDb,EAAtDa,WAAYZ,EAA0CD,EAA1CC,WAAY7C,EAA8B4C,EAA9B5C,QAASyE,EAAqB7B,EAArB6B,OAAQE,EAAa/B,EAAb+B,SACpDb,EAA8BL,EAA9BK,WAEFuB,EAAUJ,OAAOK,QAHkD1C,EAA3DM,KAIZjB,QAAO,2BACPgB,KAAI,2BAEN,OACC3B,yBAAKC,UAAYsB,EAAWsB,SACzBkB,EAAQpC,KAAI,mBACb3B,kBAACwC,GAAWjD,IAAK0E,EAAYhE,UAAYsB,EAAWuB,YACnD9C,kBAACkE,GACA/B,WAAaA,EACbZ,WAAaA,EACb7C,QAAUA,EACVyF,UAAY3D,EACZA,KAAOyD,EACPxE,MAAQ0D,EAAOc,GACfJ,SAAW,mBAASR,EAASY,EAAYxE,WAQ/C,SAASyE,EAAO5C,OACP6C,EAAsE7C,EAAtE6C,UAAW3D,EAA2Dc,EAA3Dd,KAAMf,EAAqD6B,EAArD7B,MAAO0C,EAA8Cb,EAA9Ca,WAAYZ,EAAkCD,EAAlCC,WAAY7C,EAAsB4C,EAAtB5C,QAASmF,EAAavC,EAAbuC,SACjDxD,EAA2B3B,EAA3B2B,SAAUwB,EAAiBnD,EAAjBmD,aACpBzB,EADqC1B,EAAnCsD,OACaxB,GAErB,GAAI,wBAA0BA,GAAQqB,EAAauC,OAAQ,CAC1D,IAAMV,EAAU7B,EAAaF,KAAI,YAChC,IAAMqB,EAAS,CAAE5C,MAAOiE,EAAY7D,KAAMf,MAAO4E,EAAYvC,MAI7D,OAH8B,OAA1BuC,EAAYtC,WAAsBsC,EAAYtC,YAAcsC,EAAY7D,OAC3EwC,EAAO5C,YAAciE,EAAYtC,eAE3BiB,KAKR,OAFAU,EAAQY,QAAQ,CAAElE,MAAO,KAAMX,MAAO,KAE/BO,kBAACyD,GACPtB,WAAaA,EACbZ,WAAaA,EACbf,KAAW2D,MAAc3D,MACzBf,MAAQA,EACRW,MAAQA,EACRwD,GAAKrD,EAASC,EAAMA,EAAM,UAC1BH,SAAWA,EAASG,GACpBqD,SAAW,mBAASA,EAASpE,IAC7BiE,QAAUA,IAKZ,OADWnD,EAASC,EAAMA,EAAM,SACzBR,kBAACuE,GACPpC,WAAaA,EACbZ,WAAaA,EACbf,KAAW2D,MAAe3D,MAC1Bf,MAAQA,EACRW,MAAQA,EACRwD,GAAKrD,EAASC,EAAMA,EAAM,UAC1BH,SAAWA,EAASG,GACpBqD,SAAW,mBAASA,EAASpE,MAI/B,SAASgE,EAAanC,OAEpBa,EASGb,EATHa,WACAZ,EAQGD,EARHC,WACAf,EAOGc,EAPHd,KACAf,EAMG6B,EANH7B,MAEAmE,EAIGtC,EAJHsC,GAEAC,EAEGvC,EAFHuC,SACAH,EACGpC,EADHoC,QAMAhB,EAEGP,EAFHO,OACAC,EACGR,EADHQ,OAGD,OACC3C,kBAHGmC,EAJHK,YAOYvC,UAAYsB,EAAWuB,YAClC9C,kBAJEmC,EAHHM,OAQErC,MAZCkB,EALHlB,MAkBEC,SAbCiB,EAHHjB,SAiBEC,WAAa,CAAEkE,QAASZ,GACxB3D,UAAYsB,EAAWnB,QAExBJ,kBAAC0C,GACA3B,YAAc,CACb6C,GAAIA,EACJnE,MAAOA,EACPe,KAAMA,EACNqD,SAAU,mBAAKA,EAASY,EAAEC,OAAOjF,SAElCQ,UAAYsB,EAAWwB,QAErBY,OAAOR,OAAOO,GAAS/B,KAAI,mBAC5B3B,kBAAC2C,GACApD,IAAMyD,EAAOvD,MACbwB,YAAc,CAAExB,MAAOuD,EAAOvD,OAC9BQ,UAAYsB,EAAWyB,OACvB5C,MAAQ4C,EAAO5C,aAQrB,SAASmE,EAAYjD,GAEnBa,MAQGb,EARHa,WACAZ,EAOGD,EAPHC,WACAf,EAMGc,EANHd,KAGAoD,EAGGtC,EAHHsC,GACAvD,EAEGiB,EAFHjB,SACAwD,EACGvC,EADHuC,SAMAjB,EACGT,EADHS,MAGD,OACC5C,kBAHGmC,EAHHK,YAMYvC,UAAYsB,EAAWuB,YAClC9C,kBAJEmC,EAFHM,OAOErC,MAXCkB,EAJHlB,MAgBEC,SAAWA,EACXC,WAAa,CAAEkE,QAASZ,GACxB3D,UAAYsB,EAAWnB,QAExBJ,kBAAC4C,GACArD,IAAMiB,EACNP,UAAYsB,EAAW0B,MACvB7B,WAAa,CACZwC,KACApD,OACAmE,YAAa,MACbC,aAAcA,EAAapE,GAC3BqE,WAAY,QACZxE,SAAUA,EAASG,GACnBsE,gBAAiBzE,EAASG,GAC1BqD,SAAU,mBAAKA,EAASY,EAAEC,OAAOjF,YA6GtC,SAASmF,EAAapE,GACrB,IAAM/B,EAAW,CAChBC,QAAS,UACTC,SAAU,gBACVC,SAAU,gBACVC,oBAAqB,iBACrBC,SAAU,iBACVC,YAAa,iBACbC,YAAa,cACbC,aAAc,kBAGf,OAAIuB,KAAQ/B,EACJA,EAAS+B,GAGV,GAhYeR,IAAM+E,cAAc,I,WElB5B,SAASC,IACvB,OACC,sBAAK/E,UAAU,kCAAf,UACC,sBAAKA,UAAU,wCAAf,UACC,oBAAIA,UAAU,iFAAd,uBAIA,mBAAGA,UAAU,2CAAb,iFAIA,oBAAGgF,KAAK,yCACLhF,UAAU,kFADb,UAEC,qBAAKiF,MAAM,6BAA6BC,QAAQ,cAAclF,UAAU,gCAAxE,SACC,sBAAMmF,EAAE,+xCAHV,+BASD,qBAAKnF,UAAU,wBAAf,SACC,qBAAKA,UAAU,uBAAf,SACC,cAAC,EAAD,CACCsB,WAAa,CACZwB,OAAQ,wIACRrB,KAAM,YACNmB,QAAS,iBACTC,WAAY,SACZ1C,MAAO,QACP6C,MAAO,kJ,KC5BdoC,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAACP,EAAD,MAEDQ,SAASC,eAAe,U","file":"static/js/main.a4ec5686.chunk.js","sourcesContent":["export const LABELS = 1;\nexport const FIELDS = 2;\nexport const COUNTRY = 3;\nexport const SUBDIVISION = 4;\n\nconst definitions = {\n\t[FIELDS]: [\n\t\t'country',\n\t\t'address1',\n\t\t'address2',\n\t\t'administrative_area',\n\t\t'locality',\n\t\t'sublocality',\n\t\t'postal_code',\n\t\t'sorting_code',\n\t],\n\t[COUNTRY]: [\n\t\t'code',\n\t\t'name',\n\t\t'grid',\n\t\t'labels',\n\t\t'required',\n\t\t'subdivisions',\n\t],\n\t[SUBDIVISION]: [\n\t\t'code',\n\t\t'name',\n\t\t'latinName',\n\t],\n};\n\nconst defaults = {\n\t[FIELDS]: {\n\t\tcountry: 'Country',\n\t\taddress1: 'Address',\n\t\taddress2: 'Address Line 2',\n\t\tadministrative_area: 'Province',\n\t\tlocality: 'City',\n\t\tsublocality: 'Suburb',\n\t\tpostal_code: 'Postal',\n\t\tsorting_code: 'Sorting Code',\n\t},\n};\n\nexport function compress(data, kind) {\n\tconst compressed = [...definitions[kind]]\n\t\t.map((key, index) => {\n\t\t\tconst value = 'undefined' === typeof data[key] || null === data[key]\n\t\t\t\t? 0\n\t\t\t\t: data[key];\n\t\t\t\n\t\t\treturn kind in defaults && key in defaults[kind] && value === defaults[kind][key]\n\t\t\t\t? 0\n\t\t\t\t: value;\n\t\t});\n\t\n\t// Remove empty values from the end of the array\n\twhile (0 === compressed[compressed.length - 1]) {\n\t\tcompressed.pop();\n\t}\n\t\n\treturn compressed;\n}\n\nexport function compressFlags(flags, kind) {\n\treturn [...definitions[kind]]\n\t\t.reduce((compressed, key, index) => {\n\t\t\tconst flag = Math.pow(2, index);\n\t\t\treturn true === flags[key]\n\t\t\t\t? compressed | flag\n\t\t\t\t: compressed;\n\t\t}, 0);\n}\n\nexport function expand(data, kind) {\n\treturn [...definitions[kind]]\n\t\t.reduce((expanded, key, index) => {\n\t\t\tconst value = 'undefined' === typeof data[index]\n\t\t\t\t? 0\n\t\t\t\t: data[index];\n\t\t\t\n\t\t\texpanded[key] = 0 === value && kind in defaults && key in defaults[kind]\n\t\t\t\t? defaults[kind][key]\n\t\t\t\t: value;\n\t\t\t\n\t\t\treturn expanded;\n\t\t}, {});\n}\n\nexport function expandFlags(flags, kind) {\n\treturn [...definitions[kind]]\n\t\t.reduce((expanded, key, index) => {\n\t\t\tconst flag = Math.pow(2, index);\n\t\t\texpanded[key] = (flags & flag) > 0;\n\t\t\treturn expanded;\n\t\t}, {});\n}\n","import React from 'react';\n\nexport function Wrapper({ children, className }) {\n\treturn (\n\t\t<div className={ className }>\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default Wrapper;\n","import React from 'react';\n\nexport function DefaultLabel({ className, labelProps, label, required }) {\n\treturn (\n\t\t<label className={ className } { ...labelProps }>\n\t\t\t{ label }\n\t\t\t{ required ? '*' : '' }\n\t\t</label>\n\t);\n}\n\nexport default DefaultLabel;\n","'use strict';\n\nexport default function createId(name, field = '', element = '') {\n\treturn ['franklin', name, field, element]\n\t\t.filter(segment => '' !== segment)\n\t\t.join('-');\n}\n","import React from 'react';\n\nexport function DefaultSelect({ children, className, selectProps }) {\n\treturn (\n\t\t<select className={ className } { ...selectProps }>\n\t\t\t{ children }\n\t\t</select>\n\t);\n}\n\nexport default DefaultSelect;\n","import React from 'react';\n\nexport function DefaultOption({ label, optionProps, className }) {\n\treturn (\n\t\t<option className={ className } { ...optionProps }>\n\t\t\t{ label }\n\t\t</option>\n\t);\n}\n\nexport default DefaultOption;\n","import React from 'react';\n\nexport function DefaultInput({ className, inputProps }) {\n\treturn (\n\t\t<input \n\t\t\tclassName={ className } \n\t\t\ttype=\"text\" \n\t\t\t{ ...inputProps } \n\t\t/>\n\t);\n}\n\nexport default DefaultInput;\n","export function getClassName(name, props)\n{\n\tif ('classNames' in props && name in props.classNames) {\n\t\treturn props.classNames[name];\n\t}\n\t\n\treturn `franklin__${name}`;\n}\n\nexport default getClassName;\n","import React, { useState } from 'react';\nimport data from '../../data.json';\nimport expandCountry from '../helpers/expandCountry.mjs';\nimport Wrapper from './Wrapper.jsx';\nimport DefaultLabel from './DefaultLabel.jsx';\nimport createId from '../core/defaults/createId.mjs';\nimport DefaultSelect from './DefaultSelect.jsx';\nimport DefaultOption from './DefaultOption.jsx';\nimport DefaultInput from './DefaultInput.jsx';\nimport getClassName from '../helpers/getClassName.mjs';\n\n// This takes our compressed country data and converts it to a typical\n// JSON structure that's easy to work with.\nconst countries = [...data].reduce((data, compressed) => {\n\tconst country = expandCountry(compressed);\n\tdata[country.code] = country;\n\treturn data;\n}, {});\n\n// console.log(countries);\n\nconst AddressContext = React.createContext({});\n\nexport function Address(props) {\n\tconst {\n\t\tname = 'address',\n\t\tdefaultCountry = 'US',\n\t\tcomponents: componentOverrides = {},\n\t\tvalue: originalValues = {},\n\t} = props;\n\t\n\t// All components can be overwritten by passing a new React component\n\t// in through the `components` prop. By default, all components have\n\t// as little markup as necessary.\n\tconst {\n\t\tGrid = Wrapper,\n\t\tGridRow = Wrapper,\n\t\tGridColumn = Wrapper,\n\t\tLabel = DefaultLabel,\n\t\tSelect = DefaultSelect,\n\t\tOption = DefaultOption,\n\t\tInput = DefaultInput,\n\t} = componentOverrides;\n\t\n\t// Once we've applied the default implementations, we'll push them back\n\t// into a `components` object so that we can easily pass them down into children.\n\tconst components = {\n\t\tGrid,\n\t\tGridRow,\n\t\tGridColumn,\n\t\tLabel,\n\t\tSelect,\n\t\tOption,\n\t\tInput,\n\t};\n\t\n\t// If `classNames.x` is passed into the props, we'll use that. Otherwise,\n\t// we default to something like `franklin__x`\n\tconst classNames = {\n\t\tgrid: getClassName('grid', props),\n\t\tgridRow: getClassName('gridRow', props),\n\t\tgridColumn: getClassName('gridColumn', props),\n\t\tlabel: getClassName('label', props),\n\t\tselect: getClassName('select', props),\n\t\toption: getClassName('option', props),\n\t\tinput: getClassName('input', props),\n\t};\n\t\n\tconst [values, setAllValues] = useState(() => ({\n\t\tcountry: defaultCountry,\n\t\taddress1: '',\n\t\taddress2: '',\n\t\tadministrative_area: '',\n\t\tlocality: '',\n\t\tsublocality: '',\n\t\tpostal_code: '',\n\t\tsorting_code: '',\n\t\t...originalValues,\n\t}));\n\tconst setValue = (key, value) => setAllValues({...values, [key]: value });\n\t\n\tconst country = countries[values.country];\n\tconst countryId = createId(name, 'country', 'select');\n\t\n\treturn (\n\t\t<Grid className={ classNames.grid }>\n\t\t\t\n\t\t\t{/* JSON representation of data */ }\n\t\t\t<input \n\t\t\t\ttype=\"hidden\" \n\t\t\t\tname={`${name}[json]`} \n\t\t\t\tvalue={JSON.stringify(values)} \n\t\t\t/>\n\t\t\t\n\t\t\t{/* Country Select Box */ }\n\t\t\t<GridRow className={ classNames.gridRow }>\n\t\t\t\t<SelectColumn\n\t\t\t\t\tcomponents={ components }\n\t\t\t\t\tclassNames={ classNames }\n\t\t\t\t\tname={ `${ name }[country]` }\n\t\t\t\t\tvalue={ values.country }\n\t\t\t\t\toptions={ Object.values(countries).map(country => ({ label: country.name, value: country.code })) }\n\t\t\t\t\tlabel={ country.labels.country }\n\t\t\t\t\trequired={ true }\n\t\t\t\t\tid={ countryId }\n\t\t\t\t\tonChange={ value => setValue('country', value) }\n\t\t\t\t/>\n\t\t\t</GridRow>\n\t\t\t\n\t\t\t{/* Dynamic Grid */ }\n\t\t\t{ country.grid.map((row, index) => <Row\n\t\t\t\tkey={ `row-${ index }` }\n\t\t\t\tname={ name }\n\t\t\t\trow={ row }\n\t\t\t\tclassNames={ classNames }\n\t\t\t\tcomponents={ components }\n\t\t\t\tcountry={ country }\n\t\t\t\tvalues={ values }\n\t\t\t\tsetValue={ setValue }\n\t\t\t/>) }\n\t\t</Grid>\n\t);\n}\n\nfunction Row(props) {\n\tconst { name, row, components, classNames, country, values, setValue } = props;\n\tconst { GridColumn, Select, Input } = components;\n\t\n\tconst columns = Object.entries(row)\n\t\t.filter(([_, enabled]) => enabled)\n\t\t.map(([key]) => key);\n\t\n\treturn (\n\t\t<div className={ classNames.gridRow }>\n\t\t\t{ columns.map(columnName => (\n\t\t\t\t<GridColumn key={columnName} className={ classNames.gridColumn }>\n\t\t\t\t\t<Column\n\t\t\t\t\t\tcomponents={ components }\n\t\t\t\t\t\tclassNames={ classNames }\n\t\t\t\t\t\tcountry={ country }\n\t\t\t\t\t\tinputName={ name }\n\t\t\t\t\t\tname={ columnName }\n\t\t\t\t\t\tvalue={ values[columnName] }\n\t\t\t\t\t\tonChange={ value => setValue(columnName, value) }\n\t\t\t\t\t/>\n\t\t\t\t</GridColumn>\n\t\t\t)) }\n\t\t</div>\n\t);\n}\n\nfunction Column(props) {\n\tconst { inputName, name, value, components, classNames, country, onChange } = props;\n\tconst { labels, required, subdivisions } = country;\n\tconst label = labels[name];\n\t\n\tif ('administrative_area' === name && subdivisions.length) {\n\t\tconst options = subdivisions.map(subdivision => {\n\t\t\tconst option = { label: subdivision.name, value: subdivision.code };\n\t\t\tif (subdivision.latinName !== null && subdivision.latinName !== subdivision.name) {\n\t\t\t\toption.label += ` (${subdivision.latinName})`;\n\t\t\t}\n\t\t\treturn option;\n\t\t});\n\t\t\n\t\toptions.unshift({ label: '--', value: '' });\n\t\t\n\t\treturn <SelectColumn\n\t\t\tcomponents={ components }\n\t\t\tclassNames={ classNames }\n\t\t\tname={ `${ inputName }[${name}]` }\n\t\t\tvalue={ value }\n\t\t\tlabel={ label }\n\t\t\tid={ createId(name, name, 'select') }\n\t\t\trequired={ required[name] }\n\t\t\tonChange={ value => onChange(value) }\n\t\t\toptions={ options }\n\t\t/>;\n\t}\n\t\n\tconst id = createId(name, name, 'input');\n\treturn <InputColumn\n\t\tcomponents={ components }\n\t\tclassNames={ classNames }\n\t\tname={ `${ inputName }[${ name }]` }\n\t\tvalue={ value }\n\t\tlabel={ label }\n\t\tid={ createId(name, name, 'select') }\n\t\trequired={ required[name] }\n\t\tonChange={ value => onChange(value) }\n\t/>;\n}\n\nfunction SelectColumn(props) {\n\tconst {\n\t\tcomponents,\n\t\tclassNames,\n\t\tname,\n\t\tvalue,\n\t\tlabel,\n\t\tid,\n\t\trequired,\n\t\tonChange,\n\t\toptions,\n\t} = props;\n\t\n\tconst {\n\t\tGridColumn,\n\t\tLabel,\n\t\tSelect,\n\t\tOption,\n\t} = components;\n\t\n\treturn (\n\t\t<GridColumn className={ classNames.gridColumn }>\n\t\t\t<Label\n\t\t\t\tlabel={ label }\n\t\t\t\trequired={ required }\n\t\t\t\tlabelProps={ { htmlFor: id } }\n\t\t\t\tclassName={ classNames.label }\n\t\t\t/>\n\t\t\t<Select\n\t\t\t\tselectProps={ {\n\t\t\t\t\tid: id,\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tname: name,\n\t\t\t\t\tonChange: e => onChange(e.target.value),\n\t\t\t\t} }\n\t\t\t\tclassName={ classNames.select }\n\t\t\t>\n\t\t\t\t{ Object.values(options).map(option =>\n\t\t\t\t\t<Option\n\t\t\t\t\t\tkey={ option.value }\n\t\t\t\t\t\toptionProps={ { value: option.value } }\n\t\t\t\t\t\tclassName={ classNames.option }\n\t\t\t\t\t\tlabel={ option.label }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Select>\n\t\t</GridColumn>\n\t);\n}\n\nfunction InputColumn(props) {\n\tconst {\n\t\tcomponents,\n\t\tclassNames,\n\t\tname,\n\t\tvalue,\n\t\tlabel,\n\t\tid,\n\t\trequired,\n\t\tonChange,\n\t} = props;\n\t\n\tconst {\n\t\tGridColumn,\n\t\tLabel,\n\t\tInput,\n\t} = components;\n\t\n\treturn (\n\t\t<GridColumn className={ classNames.gridColumn }>\n\t\t\t<Label\n\t\t\t\tlabel={ label }\n\t\t\t\trequired={ required }\n\t\t\t\tlabelProps={ { htmlFor: id } }\n\t\t\t\tclassName={ classNames.label }\n\t\t\t/>\n\t\t\t<Input\n\t\t\t\tkey={ name }\n\t\t\t\tclassName={ classNames.input }\n\t\t\t\tinputProps={ {\n\t\t\t\t\tid,\n\t\t\t\t\tname,\n\t\t\t\t\tautoCorrect: \"off\",\n\t\t\t\t\tautoComplete: autoComplete(name),\n\t\t\t\t\tspellCheck: \"false\",\n\t\t\t\t\trequired: required[name],\n\t\t\t\t\t\"aria-required\": required[name],\n\t\t\t\t\tonChange: e => onChange(e.target.value),\n\t\t\t\t} }\n\t\t\t/>\n\t\t</GridColumn>\n\t);\n}\n\n/*\nfunction Grid({ grid }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t{ grid.map(row => <GridRow row={ row } />) }\n\t\t</Fragment>\n\t);\n}\n\nfunction GridRow({ row }) {\n\tconst { classNames } = useContext(AddressContext);\n\t\n\tconst columns = Object.entries(row)\n\t\t.filter(([_, enabled]) => enabled)\n\t\t.map(([key]) => key);\n\t\n\treturn (\n\t\t<div className={ classNames.gridRow }>\n\t\t\t{ columns.map(name => <Input name={ name } />) }\n\t\t</div>\n\t);\n}\n\nfunction Input({ name }) {\n\tconst { country, classNames } = useContext(AddressContext);\n\tconst { labels, required, subdivisions } = country;\n\tconst id = useId();\n\t\n\tconst label = labels[name];\n\t\n\tif ('administrative_area' === name && subdivisions.length) {\n\t\treturn <Subdivisions\n\t\t\tid={ id }\n\t\t\tlabel={ label }\n\t\t\tname={ name }\n\t\t\trequired={ required[name] }\n\t\t\tsubdivisions={ subdivisions }\n\t\t/>;\n\t}\n\t\n\treturn (\n\t\t<div className={ classNames.gridColumn }>\n\t\t\t<label className={ classNames.label } htmlFor={ id }>\n\t\t\t\t{ label }\n\t\t\t\t{ required[name] ? '*' : '' }\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\tclassName={ classNames.input }\n\t\t\t\tid={ id }\n\t\t\t\tautoCorrect=\"off\"\n\t\t\t\tautoComplete={ autoComplete(name) }\n\t\t\t\tspellCheck=\"false\"\n\t\t\t\trequired={ required[name] }\n\t\t\t\taria-required={ required[name] }\n\t\t\t\tkey={ name }\n\t\t\t\tname={ name }\n\t\t\t\ttype=\"text\"\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nfunction Subdivisions({ id, name, label, required, subdivisions }) {\n\tconst { classNames } = useContext(AddressContext);\n\t// const [value, setValue] = useState(required ? Object.keys(subdivisions)[0] : '');\n\t\n\treturn (\n\t\t<div className={ classNames.gridColumn }>\n\t\t\t<label className={ classNames.label } htmlFor={ id }>\n\t\t\t\t{ label }\n\t\t\t\t{ required ? '*' : '' }\n\t\t\t</label>\n\t\t\t<select\n\t\t\t\t// value={ value }\n\t\t\t\t// onChange={ e => setValue(e.target.value) }\n\t\t\t\tclassName={ classNames.select }\n\t\t\t\tid={ id }\n\t\t\t\tautoCorrect=\"off\"\n\t\t\t\tautoComplete={ autoComplete(name) }\n\t\t\t\trequired={ required }\n\t\t\t\taria-required={ required }\n\t\t\t\tkey={ name }\n\t\t\t\tname={ name }\n\t\t\t>\n\t\t\t\t{ false === required && (\n\t\t\t\t\t<option\n\t\t\t\t\t\tstyle={ { color: 'rgba(0, 0, 0, 0.3)' } }\n\t\t\t\t\t\tclassName={ classNames.option } value=\"\"\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ subdivisions.map(subdivision => (\n\t\t\t\t\t<option className={ classNames.option } value={ subdivision.code } key={ subdivision.code }>\n\t\t\t\t\t\t{ subdivision.name }\n\t\t\t\t\t\t{ subdivision.latinName ? ` (${ subdivision.latinName })` : null }\n\t\t\t\t\t</option>\n\t\t\t\t)) }\n\t\t\t</select>\n\t\t</div>\n\t);\n}\n*/\n\nfunction autoComplete(name) {\n\tconst defaults = {\n\t\tcountry: 'country',\n\t\taddress1: 'address-line1',\n\t\taddress2: 'address-line2',\n\t\tadministrative_area: 'address-level1',\n\t\tlocality: 'address-level2',\n\t\tsublocality: 'address-level3',\n\t\tpostal_code: 'postal-code',\n\t\tsorting_code: 'address-level4', // TODO: Verify that sorting code maps to level 4\n\t};\n\t\n\tif (name in defaults) {\n\t\treturn defaults[name];\n\t}\n\t\n\treturn '';\n}\n","import { expand, expandFlags, COUNTRY, FIELDS, SUBDIVISION } from './mappers.mjs';\n\nexport default function expandCountry(compressed) {\n\t\tconst expanded = expand(compressed, COUNTRY);\n\t\t\n\t\texpanded.grid = expanded.grid.map(row => expandFlags(row, FIELDS));\n\t\texpanded.subdivisions = expanded.subdivisions.map(([code, name, latinName = null]) => {\n\t\t\tname = name || code;\n\t\t\treturn { code, name, latinName };\n\t\t});\n\t\texpanded.labels = expand(expanded.labels, FIELDS);\n\t\texpanded.required = expandFlags(expanded.required, FIELDS);\n\t\t\n\t\treturn expanded;\n}\n","import React from 'react';\nimport { Address } from '@internachi/franklin';\n\nexport default function App() {\n\treturn (\n\t\t<div className=\"container mx-auto my-12 md:flex\">\n\t\t\t<div className=\"md:w-1/2 p-8 md:text-right text-white\">\n\t\t\t\t<h1 className=\"tracking-tight font-extrabold sm:leading-none text-5xl lg:text-7xl xl:text-8xl\">\n\t\t\t\t\tFranklin.\n\t\t\t\t</h1>\n\t\t\t\t\n\t\t\t\t<p className=\"text-2xl my-8 text-indigo-100 opacity-90\">\n\t\t\t\t\tAn open source international address input made for the modern web.\n\t\t\t\t</p>\n\t\t\t\t\n\t\t\t\t<a href=\"https://github.com/internachi/franklin\" \n\t\t\t\t   className=\"bg-black rounded-xl p-4 text-white inline-flex items-center text-xl lg:text-3xl\">\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 496 512\" className=\"h-8 md:h-12 fill-current mr-4\">\n\t\t\t\t\t\t<path d=\"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t\tCheck it out on Github\n\t\t\t\t</a>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t<div className=\"md:w-1/2 mx-4 md:mx-0\">\n\t\t\t\t<div className=\"bg-white rounded p-8\">\n\t\t\t\t\t<Address\n\t\t\t\t\t\tclassNames={ {\n\t\t\t\t\t\t\tselect: \"block w-full mt-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\",\n\t\t\t\t\t\t\tgrid: \"space-y-2\",\n\t\t\t\t\t\t\tgridRow: \"flex space-x-2\",\n\t\t\t\t\t\t\tgridColumn: \"flex-1\",\n\t\t\t\t\t\t\tlabel: \"block\",\n\t\t\t\t\t\t\tinput: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\"\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './css/tailwind.css';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}